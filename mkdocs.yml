# holoconf Documentation Site
# https://squidfunk.github.io/mkdocs-material/

site_name: HoloConf
site_description: Multi-language hierarchical configuration library
site_url: https://rfestag.github.io/holoconf/
repo_url: https://github.com/rfestag/holoconf
repo_name: rfestag/holoconf
edit_uri: edit/main/docs/

# Documentation directory (relative to mkdocs.yml)
docs_dir: docs

theme:
  name: material
  logo: images/logo-header.svg
  favicon: images/logo.svg
  features:
    - content.tabs.link        # Persistent language selection across pages
    - content.code.copy        # Copy button on code blocks
    - content.code.annotate    # Code annotations
    - navigation.instant       # Preserves tab state on navigation
    - navigation.tabs          # Top-level sections as tabs
    - navigation.sections      # Collapsible sections in sidebar
    - navigation.top           # Back to top button
    - search.highlight         # Highlight search terms
    - search.suggest           # Search suggestions
  palette:
    # Light mode
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: custom
      accent: custom
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    # Dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      primary: custom
      accent: custom
      toggle:
        icon: material/brightness-4
        name: Switch to light mode
  icon:
    repo: fontawesome/brands/github

markdown_extensions:
  # Code blocks with syntax highlighting
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true
  - pymdownx.inlinehilite
  - pymdownx.superfences

  # Tabbed content (for language selection)
  - pymdownx.tabbed:
      alternate_style: true
      slugify: !!python/object/apply:pymdownx.slugs.slugify
        kwds:
          case: lower

  # Admonitions (notes, warnings, etc.)
  - admonition
  - pymdownx.details

  # Other useful extensions
  - attr_list
  - md_in_html
  - tables
  - toc:
      permalink: true

hooks:
  - tools/mkdocs_hooks.py

plugins:
  - search
  - mkdocstrings:
      default_handler: python
      handlers:
        python:
          paths:
            - packages/python/holoconf/src
          options:
            show_source: false
            show_bases: true
            show_root_heading: true
            show_root_full_path: false
            heading_level: 2
            members_order: alphabetical
            group_by_category: true
            show_category_heading: true
            docstring_style: google
            docstring_section_style: spacy
            show_signature_annotations: true
            separate_signature: true
            signature_crossrefs: true
            merge_init_into_class: true

extra:
  version:
    provider: mike
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/rfestag/holoconf

extra_css:
  - assets/stylesheets/tables.css

extra_javascript:
  - assets/javascripts/tables.js

nav:
  - Home: index.md
  - Guide:
      - Getting Started: guide/getting-started.md
      - Interpolation: guide/interpolation.md
      - Resolvers: guide/resolvers.md
      - Merging: guide/merging.md
      - Validation: guide/validation.md
  - API Reference:
      - holoconf (Python):
          - Overview: api/python/index.md
          - Classes:
              - Config: api/python/classes/config.md
              - Schema: api/python/classes/schema.md
          - Exceptions:
              - HoloconfError: api/python/exceptions/holoconf-error.md
              - ParseError: api/python/exceptions/parse-error.md
              - ValidationError: api/python/exceptions/validation-error.md
              - ResolverError: api/python/exceptions/resolver-error.md
              - PathNotFoundError: api/python/exceptions/path-not-found-error.md
              - CircularReferenceError: api/python/exceptions/circular-reference-error.md
              - TypeCoercionError: api/python/exceptions/type-coercion-error.md
      - holoconf-core (Rust):
          - Overview: api/rust/index.md
          - Structs:
              - Config: api/rust/structs/config.md
              - Schema: api/rust/structs/schema.md
              - ConfigOptions: api/rust/structs/config-options.md
          - Enums:
              - Value: api/rust/enums/value.md
              - Error: api/rust/enums/error.md
      - holoconf-cli:
          - Overview: api/cli/index.md
  - Contributing:
      - Overview: contributing/index.md
      - Development Setup: contributing/development.md
      - Testing: contributing/testing.md
      - Acceptance Tests: contributing/acceptance-tests.md
      - Architecture Decisions: adr/README.md
      - Feature Specs: specs/features/README.md
  - Changelog: changelog.md
